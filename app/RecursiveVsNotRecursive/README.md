# Как можно получить прирост скорости убрав рекурсивность

Вводные данные: глубина дерева `1 >= N > Infinity`
```
peak memory usege before call function: 97.14 MB
```

#### Производительность обычной рекурсивной функции:
```
peak memory usage: 162.01 MB
time usage: ~0.83
```

#### Производительность оптимизированной функции:
```
peak memory usage: 146 MB
time usage: ~0.33
```

---

Пример на основе функции разворачивания дерева файловой структуры
```php
$tree = [
    'a' => 'file',
    'b' => [
        'c' => 'file',
        'd' => [
            'e' => 'file',
        ]
    ]
];
```

В плоскую
```php
$result = [
    'a',
    'b/c',
    'b/d/e',
];
```

Позволяет существенно уменьшить нагрузку на память, и скорость.
У рекурсивной память будет O(n^2), оптимизированной O(n)

Достигается оптимизация путем одного цикла, перемещения указателей и ссылок.
